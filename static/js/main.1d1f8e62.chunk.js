(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(22),c=a.n(r),i=a(2),o=a(11),l=a(16),u=a(8),d="LOAD_TASKS",k="LOAD_DESKS",h="ADD_TASK",p="ADD_DESK",f="REMOVE_TASK",m="REMOVE_DESK",v="SET_STATUS",b="SET_DESK_COLOR";var O={tasks:[]},E={desks:[]};var g=Object(o.combineReducers)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(u.a)({},e,{tasks:t.tasks});case h:var a=e.tasks.length?e.tasks[0].id+1:0;return Object(u.a)({},e,{tasks:[{id:a,status:0,title:t.task.title,description:t.task.description}].concat(Object(l.a)(e.tasks))});case f:return Object(u.a)({},e,{tasks:e.tasks.filter(function(e){return e.id!=t.id})});case v:var n=Object(l.a)(e.tasks);return n.forEach(function(e){e.id===t.task_id&&(e.status=t.status)}),Object(u.a)({},e,{tasks:n});default:return e}},desks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(u.a)({},e,{desks:t.desks});case p:var a=e.desks.length?e.desks[e.desks.length-1].id+1:0;return Object(u.a)({},e,{desks:[].concat(Object(l.a)(e.desks),[{id:a,title:t.desk.title,color:"#b3caaf"}])});case m:return Object(u.a)({},e,{desks:e.desks.filter(function(e){return e.id!=t.id})});case b:var n=Object(l.a)(e.desks);return n.forEach(function(e){e.id===t.desk_id&&(e.color=t.color)}),Object(u.a)({},e,{desks:n});default:return e}}}),j=Object(o.createStore)(g),C=a(15),y=a(52),D=a.n(y),S=a(3),_=a(4),A=a(7),N=a(5),T=a(6),w=a(24),x=(a(112),function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(A.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(s)))).state={active:!1,title:"",text:""},a.handleClick=function(){a.setState({active:!a.state.active,title:"",text:""})},a.handleChange=function(e){var t=e.target.name;a.setState(Object(w.a)({},t,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.addTask({title:a.state.title,description:a.state.text}),a.setState({active:!1,title:"",text:""})},a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"add_form"},this.state.active||s.a.createElement("a",{href:"#",onClick:this.handleClick},"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443"),this.state.active&&s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("p",null,s.a.createElement("input",{type:"text",value:this.state.value,onChange:this.handleChange,name:"title",className:"task_title",placeholder:"\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"})),s.a.createElement("p",null,s.a.createElement("textarea",{value:this.state.value,onChange:this.handleChange,name:"text",className:"task_description",placeholder:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})),s.a.createElement("div",{className:""},s.a.createElement("input",{type:"submit",value:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",className:"buttons submit"}),s.a.createElement("button",{onClick:this.handleClick,className:"buttons cancel"},"\u043e\u0442\u043c\u0435\u043d\u0430"))))}}]),t}(s.a.Component)),R=Object(i.b)(function(e){return{tasks:e.tasks}},function(e){return{addTask:function(t){return e(function(e){return{type:h,task:e}}(t))}}})(x),K=(a(113),function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(A.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(s)))).state={active:!1,title:""},a.handleClick=function(){a.setState({active:!a.state.active,title:""})},a.handleChange=function(e){a.setState({title:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.props.addDesk({title:a.state.title}),a.setState({active:!1,title:""})},a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"add_form_desk"},this.state.active?s.a.createElement("a",{href:"#",onClick:this.handleClick},"\u043e\u0442\u043c\u0435\u043d\u0430"):s.a.createElement("a",{href:"#",onClick:this.handleClick},"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u043e\u0441\u043a\u0443"),this.state.active&&s.a.createElement("form",{onSubmit:this.handleSubmit},s.a.createElement("input",{type:"text",value:this.state.title,onChange:this.handleChange,name:"desk",placeholder:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u0441\u043a\u0438"})))}}]),t}(s.a.Component)),F=Object(i.b)(null,function(e){return{addDesk:function(t){return e({type:p,desk:t})}}})(K);a(114);var B=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(A.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(s)))).handleClick=function(e){a.props.removeTask(e.target.id)},a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=Object(u.a)({},this.props.task),t=e.title,a=e.description,n=e.id;return this.props.connectDragSource(s.a.createElement("div",{className:"task",style:{opacity:this.props.isDragging?0:1}},s.a.createElement("div",{className:"wrap"},s.a.createElement("div",{className:"title"},t),s.a.createElement("div",{className:"remove_task"},s.a.createElement("a",{href:"#",id:n,onClick:this.handleClick},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"))),a?s.a.createElement("div",{className:"description"},s.a.createElement("div",{className:"description_wrap"},a)):""))}}]),t}(s.a.Component);B=Object(C.DragSource)("Task",{beginDrag:function(e){return{task_id:e.task.id}},endDrag:function(e,t){if(t.getDropResult()){var a=t.getDropResult().desk_id;e.setStatus(e.task.id,a)}return{}}},function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(B);var J=Object(i.b)(null,function(e){return{removeTask:function(t){return e({type:f,id:t})},setStatus:function(t,a){return e(function(e,t){return{type:v,task_id:e,status:t}}(t,a))}}})(B),I=(a(115),function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(A.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(s)))).state={active:!1,color:""},a.handleClick=function(){a.setState({active:!a.state.active})},a.changeColor=function(e){return function(){a.props.setColor(a.props.desk_id,e)}},a.colors=["#e1f3de","#b3caaf","#e6d6ac","#98ebcf","#dfeea8","#728fa7","#dde7f0","#483D8B","#A52A2A","#FFC0CB","#4682B4","#46AFAF","#F0E68C","#FA5858"],a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this,t=this.colors.map(function(t,a){return s.a.createElement("div",{key:a,className:"color_item",style:{background:t,cursor:"pointer"},onClick:e.changeColor(t)})});return s.a.createElement("div",{className:"color_panel"},this.state.active?s.a.createElement("a",{href:"#",onClick:this.handleClick}):s.a.createElement("a",{href:"#",onClick:this.handleClick},"\u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0446\u0432\u0435\u0442"),this.state.active&&s.a.createElement("div",{className:"colors"},t))}}]),t}(s.a.Component)),L=Object(i.b)(null,function(e){return{setColor:function(t,a){return e(function(e,t){return{type:b,desk_id:e,color:t}}(t,a))}}})(I),M=(a(116),a(53)),U=a.n(M);var V=function(e){function t(){var e,a;Object(S.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(A.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(s)))).state={tuneActive:!1},a.handleTuneClick=function(){a.setState({tuneActive:!a.state.tuneActive})},a.handleRemoveClick=function(e){a.props.removeDesk(e.target.id)},a.handleDeskClick=function(){a.setState({tuneActive:!1})},a}return Object(T.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props.tasks.map(function(e){return s.a.createElement(J,{key:e.id,task:e})});return this.props.connectDropTarget(s.a.createElement("div",{className:"desk",style:{background:this.props.color}},s.a.createElement("div",{className:"tune_desk"},s.a.createElement("img",{src:U.a,onClick:this.handleTuneClick,style:{cursor:"pointer"}}),this.state.tuneActive&&s.a.createElement("div",{className:"tune_panel"},s.a.createElement(L,{desk_id:this.props.desk_id}),s.a.createElement("div",{className:"remove_task"},!e.length&&s.a.createElement("a",{href:"#",id:this.props.desk_id,onClick:this.handleRemoveClick},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0434\u043e\u0441\u043a\u0443")))),s.a.createElement("div",{className:"wrap_tasks",onClick:this.handleDeskClick},s.a.createElement("div",{className:"desk_title"},s.a.createElement("b",null,this.props.title)),e)))}}]),t}(s.a.Component);V=Object(C.DropTarget)("Task",{drop:function(e){return{desk_id:e.desk_id}}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})(V);var P=Object(i.b)(null,function(e){return{removeDesk:function(t){return e({type:m,id:t})}}})(V);a(117);function q(e,t){fetch(e).then(function(e){return e.json()}).then(function(e){return t(e)})}var z=function(e){function t(){return Object(S.a)(this,t),Object(A.a)(this,Object(N.a)(t).apply(this,arguments))}return Object(T.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("todo_19811210vs"));e?(this.props.loadDesks(e.desks),this.props.loadTasks(e.tasks)):(q("tasks.json",this.props.loadTasks),q("desks.json",this.props.loadDesks))}},{key:"componentDidUpdate",value:function(){localStorage.setItem("todo_19811210vs",JSON.stringify({tasks:this.props.tasks,desks:this.props.desks}))}},{key:"render",value:function(){var e=this,t=this.props.desks.map(function(t){return s.a.createElement(P,{key:t.id,title:t.title,desk_id:t.id,color:t.color,tasks:e.props.tasks.filter(function(e){return e.status===t.id})})});return s.a.createElement("div",{id:"App"},s.a.createElement("div",{id:"header"},s.a.createElement(R,null)),s.a.createElement("div",{id:"content"},t,s.a.createElement(F,null)))}}]),t}(s.a.Component),G=Object(i.b)(function(e){return{tasks:e.tasks.tasks,desks:e.desks.desks}},function(e){return{loadTasks:function(t){return e({type:d,tasks:t})},loadDesks:function(t){return e({type:k,desks:t})}}})(z);a(118);c.a.render(s.a.createElement(i.a,{store:j},s.a.createElement(C.DragDropContextProvider,{backend:D.a},s.a.createElement(G,null))),document.getElementById("root"))},53:function(e,t,a){e.exports=a.p+"static/media/hamb.0a1b1c06.svg"},54:function(e,t,a){e.exports=a(119)}},[[54,1,2]]]);
//# sourceMappingURL=main.1d1f8e62.chunk.js.map